{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/audio-player/audio-player.component.html","webpack:///./src/app/book-form/book-form.component.html","webpack:///./src/app/books-detail/books-detail.component.html","webpack:///./src/app/books/books.component.html","webpack:///./src/app/chapter-detail/chapter-detail.component.html","webpack:///./src/app/chapter-form/chapter-form.component.html","webpack:///./src/app/chapters/chapters.component.html","webpack:///./src/app/error/error.component.html","webpack:///./src/app/home/home.component.html","webpack:///./src/app/image-loader/image-loader.component.html","webpack:///./src/app/image-preview/image-preview.component.html","webpack:///./src/app/login/login.component.html","webpack:///./src/app/logo/logo.component.html","webpack:///./src/app/my-books/my-books.component.html","webpack:///./src/app/navbar/navbar.component.html","webpack:///./src/app/stars/stars.component.html","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/audio-player/audio-player.component.css","webpack:///./src/app/audio-player/audio-player.component.ts","webpack:///./src/app/book-form/book-form.component.css","webpack:///./src/app/book-form/book-form.component.ts","webpack:///./src/app/books-detail/books-detail.component.css","webpack:///./src/app/books-detail/books-detail.component.ts","webpack:///./src/app/books/book.ts","webpack:///./src/app/books/books.component.css","webpack:///./src/app/books/books.component.ts","webpack:///./src/app/chapter-detail/chapter-detail.component.css","webpack:///./src/app/chapter-detail/chapter-detail.component.ts","webpack:///./src/app/chapter-form/chapter-form.component.css","webpack:///./src/app/chapter-form/chapter-form.component.ts","webpack:///./src/app/chapters/chapterdto.ts","webpack:///./src/app/chapters/chapters.component.css","webpack:///./src/app/chapters/chapters.component.ts","webpack:///./src/app/common/auditable.ts","webpack:///./src/app/common/slugify.ts","webpack:///./src/app/error/error.component.css","webpack:///./src/app/error/error.component.ts","webpack:///./src/app/home/home.component.css","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/image-loader/image-loader.component.css","webpack:///./src/app/image-loader/image-loader.component.ts","webpack:///./src/app/image-preview/image-preview.component.css","webpack:///./src/app/image-preview/image-preview.component.ts","webpack:///./src/app/image-preview/image.preview.ts","webpack:///./src/app/login/authinterceptor.ts","webpack:///./src/app/login/errorinterceptor.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/logo/logo.component.css","webpack:///./src/app/logo/logo.component.ts","webpack:///./src/app/my-books/my-books.component.css","webpack:///./src/app/my-books/my-books.component.ts","webpack:///./src/app/navbar/navbar.component.css","webpack:///./src/app/navbar/navbar.component.ts","webpack:///./src/app/service/authenticationservice.ts","webpack:///./src/app/service/authguardservice.ts","webpack:///./src/app/service/book.service.ts","webpack:///./src/app/service/chapter.service.ts","webpack:///./src/app/service/updatecurrenttimeservice.ts","webpack:///./src/app/stars/star.ts","webpack:///./src/app/stars/stars.component.css","webpack:///./src/app/stars/stars.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<app-navbar></app-navbar>\\n<main role=\\\"main\\\" class=\\\"flex-shrink-0 mt-lg-5 \\\">\\n  <div class=\\\"routerContent\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n</main>\\n\"","module.exports = \"<div  class=\\\"form-group mr-2\\\" *ngIf=\\\"showPlayer && upload\\\">\\n  <a [routerLink]=\\\"linkDetail\\\"  *ngIf=\\\"showTitle\\\" class=\\\"badge label text-link text-muted text-warning text-uppercase mr-2 \\\">{{title}}</a>\\n  <audio  #audioSource [id]=\\\"upload.id+currentPlayer\\\" (playing)=\\\"propagatePlayingEvent($event)\\\"(pause)=\\\"propagatePauseEvent($event)\\\" controls [ngClass]=\\\"'bg-transparent pr-3  text-muted' + width? 'w-'+width : ''\\\">\\n    <source [src]=\\\"getSource()\\\"  >\\n  </audio>\\n</div>\\n\"","module.exports = \"<div>\\n  <button class=\\\"border-radius-0 no-focus  btn btn-outline-primary mb-2\\\" (click)=\\\"toggleFormVisible()\\\"\\n          *ngIf=\\\"!formVisible\\\"><fa-icon [icon]=\\\"faPlus\\\"></fa-icon> </button>\\n  <div class=\\\"row\\\" *ngIf=\\\"formVisible\\\" >\\n    <div class=\\\"card border-0 w-100 \\\">\\n      <div class=\\\"card-header bg-white text-secondary\\\">\\n        <span class=\\\"text-uppercase\\\"># {{bookCopy.id ? bookCopy.id : 'New'}}</span>\\n        <div class=\\\"float-right\\\" *ngIf=\\\"showCross\\\">\\n          <a class=\\\"clickable btn-link text-secondary\\\" (click)=\\\"toggleFormVisible()\\\"><fa-icon [icon]=\\\"faTimes\\\" ></fa-icon> </a>\\n        </div>\\n      </div>\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"container\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-4\\\">\\n              <app-image-preview [defaultImage]=\\\"bookCopy.cover ? bookCopy.cover.id: null\\\" (emitter)=\\\"setCover($event)\\\"></app-image-preview>\\n            </div>\\n            <div class=\\\"col-lg-8 text-uppercase\\\">\\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"bookTitle\\\">Title</label>\\n                <input [disabled]=\\\"saving\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"bookTitle\\\" [(ngModel)]=\\\"bookCopy.title\\\">\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"bookAuthor\\\">Author</label>\\n                <input [disabled]=\\\"saving\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"bookAuthor\\\" [(ngModel)]=\\\"bookCopy.author\\\">\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"bookCategory\\\">Category</label>\\n                <input [disabled]=\\\"saving\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"bookCategory\\\" [(ngModel)]=\\\"bookCopy.category\\\">\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"bookDescription\\\">Description</label>\\n                <textarea [disabled]=\\\"saving\\\" autosize class=\\\"form-control \\\" id=\\\"bookDescription\\\" [(ngModel)]=\\\"bookCopy.description\\\"></textarea>\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <datalist id=\\\"listCc\\\"  *ngIf=\\\"countryCode\\\">\\n                  <select class=\\\"form-control\\\" >\\n                    <option *ngFor=\\\"let cc of countryCode\\\" [value]=\\\"cc.key\\\">{{cc.value}}</option>\\n                  </select>\\n                </datalist>\\n                <label for=\\\"bookLang\\\">lang</label>\\n                <div class=\\\"ingput-group\\\">\\n                  <input list=\\\"listCc\\\" id=\\\"bookLang\\\" [disabled]=\\\"saving\\\" type=\\\"text\\\" class=\\\"form-control form-inline\\\" [(ngModel)]=\\\"bookCopy.lang\\\">\\n                  <span  [ngClass]=\\\"'col-1 flag-icon flag-icon-'+bookCopy.lang\\\"></span>\\n                </div>\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"bookPublished\\\">Published</label>\\n                <input type=\\\"checkbox\\\"  class=\\\"form-check\\\" id=\\\"bookPublished\\\" [disabled]=\\\"saving\\\" [(ngModel)]=\\\"bookCopy.published\\\">\\n              </div>\\n\\n              <button [disabled]=\\\"!bookCopy.title || !bookCopy.author || !bookCopy.category || saving\\\" (click)=\\\"saveBookToDB($event)\\\" class=\\\"btn btn-outline-primary btn-sm float-right text-uppercase\\\"><fa-icon [icon]=\\\"faSave\\\"></fa-icon>&nbsp;{{savingButton}}</button>\\n            </div>\\n            <div class=\\\"container\\\">\\n              <hr>\\n              <app-chapters [editMode]=\\\"editMode\\\" *ngIf=\\\"bookCopy && bookCopy.id\\\" [bookId]=\\\"bookCopy.id\\\"></app-chapters>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"<app-logo [headerClass]=\\\"'text-center  mt-5  pt-5 '\\\"></app-logo>\\n\\n<div class=\\\"container mb-4\\\">\\n  <div class=\\\"text-center mb-2\\\">\\n    <div class=\\\" btn-group mt-5  \\\">\\n      <button class=\\\"btn  btn-outline-info  text-uppercase\\\" (click)=\\\"back()\\\"><fa-icon [icon]=\\\"faArrowLeft\\\"></fa-icon></button>\\n      <button [id]=\\\"book && book.id + 'editaction'\\\" *ngIf=\\\"hasAnyRole('USER','CONTRIBUTOR','ADMIN') && hasRight() && !editMode\\\" (click)=\\\"navigate(book,'edit')\\\" class=\\\"btn  btn-outline-success\\\"\\n              aria-label=\\\"Edit\\\"><fa-icon [icon]=\\\"['fas','edit']\\\"></fa-icon></button>\\n      <button [id]=\\\"book && book.id + 'viewaction'\\\" *ngIf=\\\"hasAnyRole('USER','CONTRIBUTOR','ADMIN') && editMode\\\" (click)=\\\"navigate(book,'view')\\\" class=\\\"btn  btn-outline-primary\\\"\\n              aria-label=\\\"View\\\"><fa-icon [icon]=\\\"['fas','eye']\\\"></fa-icon></button>\\n    </div>\\n  </div>\\n  <div class=\\\"card border-0 \\\" *ngIf=\\\"book && !editMode\\\">\\n    <div class=\\\"card-body \\\">\\n      <div class=\\\"container \\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-4 \\\">\\n            <app-image-loader  *ngIf=\\\"book.cover\\\" [imageId]=\\\"book.cover.id\\\"></app-image-loader>\\n          </div>\\n          <div class=\\\"col-lg-8\\\">\\n          <span class=\\\"lead\\\" >\\n            <span [ngClass]=\\\"'flag-icon flag-icon-'+ book.lang\\\" *ngIf=\\\"book.lang\\\"></span>\\n            {{book.title}}<small class=\\\"text-muted\\\"> by {{book.author}}</small>\\n          </span>\\n            <p>{{book.description}}</p>\\n              <app-stars [editable]=\\\"isLoggedIn() && !editMode\\\" [star]=\\\"book.stars\\\" (updateStar)=\\\"rateBook($event)\\\"></app-stars>\\n              <app-chapters *ngIf=\\\"book\\\" [bookId]=\\\"book.id\\\"></app-chapters>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-12 float-right\\\">\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n    <app-book-form [showCross]=\\\"false\\\" *ngIf=\\\"editMode && book\\\" [editMode]=\\\"editMode\\\" [formVisible]=\\\"true\\\" [book]=\\\"book\\\"></app-book-form>\\n</div>\\n\"","module.exports = \"<div *ngIf=\\\"!books || books.empty\\\" class=\\\"mt-lg-5 pt-lg-5 \\\"></div>\\n<div *ngIf=\\\"!books || books.empty\\\" class=\\\"mt-lg-5 pt-lg-5 \\\"></div>\\n<app-logo [headerClass]=\\\"'text-center  mt-5  pt-5 '\\\"></app-logo>\\n<div class=\\\"container mt-5\\\">\\n  <datalist id=\\\"listTitles\\\"  *ngIf=\\\"titles\\\">\\n    <select class=\\\"form-control\\\" >\\n      <option *ngFor=\\\"let title of titles\\\" [value]=\\\"title.title\\\"></option>\\n    </select>\\n  </datalist>\\n  <div [class]=\\\"'input-group text-center '\\\">\\n      <input  list=\\\"listTitles\\\" [(ngModel)]=\\\"searchText\\\" (ngModelChange)=\\\"searchBookByTitle(searchText,1)\\\" type=\\\"text\\\"  [class]=\\\"'col-lg-5 ml-auto form-control border-right-0 border-secondary'\\\" placeholder=\\\"Search...\\\">\\n\\n      <button [disabled]=\\\"loading || !searchText\\\" (click)=\\\"searchBookByTitle(searchText)\\\" class=\\\"btn no-focus btn-outline-secondary   text-center mb-2 border-radius-0\\\"><fa-icon [icon]=\\\"['fas','search']\\\" ></fa-icon>{{books && books.content ? ' ('+books.totalElements+')' : ''}}</button>\\n\\n    <div  [ngClass]=\\\"'btn-group mr-auto'\\\">\\n      <button *ngIf=\\\"isLoggedIn()\\\"  [disabled]=\\\"loading\\\" (click)=\\\"getBooks(1)\\\" class=\\\"btn border-radius-0 no-focus btn-outline-secondary border-left-0  mb-2  \\\"><fa-icon [icon]=\\\"faSync\\\" ></fa-icon></button>\\n    </div>\\n\\n  </div>\\n  <div class=\\\" table-responsive mt-2 \\\" *ngIf=\\\"books &&!books.empty\\\">\\n    <table class=\\\"table table-hover table-light table-sm\\\">\\n      <thead>\\n      <tr class=\\\"bg-light\\\">\\n        <th scope=\\\"col\\\">\\n          <small>{{'title' | uppercase }}</small>\\n        </th>\\n        <th scope=\\\"col\\\">\\n          <small>{{'category' | uppercase }}</small>\\n        </th>\\n        <th scope=\\\"col\\\">\\n          <small>{{'Duration' | uppercase }}</small>\\n        </th>\\n        <th scope=\\\"col\\\">\\n          <small>{{'Lang' | uppercase }}</small>\\n        </th>\\n      </tr>\\n      </thead>\\n      <tbody *ngIf=\\\"books && !books.empty\\\">\\n      <tr class=\\\"clickable\\\" (click)=\\\"navigate(book,'view')\\\" *ngFor=\\\"let book of books.content | paginate: { itemsPerPage: books.size, currentPage: books.number+1, totalItems: books.totalElements}\\\">\\n        <td>{{book.title}}</td>\\n        <td>{{book.category}}</td>\\n        <td>{{getTotalDuration(book)}}</td>\\n        <td><span [ngClass]=\\\"'flag-icon flag-icon-'+ (book.lang ? book.lang.toLowerCase() : 'us')\\\"></span></td>\\n\\n      </tr>\\n      </tbody>\\n      <tbody *ngIf=\\\"!books || books.empty \\\">\\n      <tr class=\\\"bg-dark\\\">\\n        <td colspan=\\\"11\\\" class=\\\"text-white text-uppercase text-center\\\"><strong>No result!</strong></td>\\n      </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n  <div *ngIf=\\\"books && !books.empty && books.totalPages  > 1\\\"\\n       class=\\\"text-center container mt-2 mr-1 mb-3 pb-1 \\\">\\n    <div class=\\\"text-wrap\\\">\\n      <pagination-controls (pageChange)=\\\"getBooks($event)\\\"\\n                           previousLabel=\\\"\\\"\\n                           autoHide=\\\"true\\\"\\n                           class=\\\"my-pagination \\\"\\n                           nextLabel=\\\"\\\">\\n      </pagination-controls>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"d-flex flex-column \\\" *ngIf=\\\"chapter\\\">\\n  <div  (click)=\\\"toggleTitle()\\\" *ngIf=\\\"!editTitle \\\" [ngClass]=\\\"'dotted mb-2 badge p-2 text-left ' + (isChecked() ? 'badge-primary':'badge-secondary')\\\">\\n    <span>{{chapter.order}}. {{chapter.title}}</span>\\n    <span class=\\\"dots\\\"></span>\\n    <span>{{getTimeDuration(chapter)}}</span>\\n  </div>\\n  <div *ngIf=\\\"editTitle\\\" class=\\\"input-group input-group-sm mb-2\\\">\\n    <input #title [autofocus]=\\\"true\\\" (focusout)=\\\"toggleTitle()\\\" type=\\\"text\\\" [(ngModel)]=\\\"chapter.title\\\" (keydown.enter)=\\\"updateChapter($event,'editTitle')\\\" class=\\\"form-control\\\">\\n    <div class=\\\"input-group-append\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger\\\" (click)=\\\"toggleTitle()\\\"><fa-icon [icon]=\\\"faTimes\\\"></fa-icon></button>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"editDescription\\\" class=\\\"input-group input-group-sm mb-2\\\">\\n    <textarea #description [autofocus]=\\\"true\\\"  autosize class=\\\"form-control\\\" [(ngModel)]=\\\"chapter.description\\\"></textarea>\\n    <div class=\\\"input-group-append\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-success\\\" (click)=\\\"updateChapter($event, 'editDescription')\\\"><fa-icon [icon]=\\\"faSave\\\"></fa-icon></button>\\n    </div>\\n  <div class=\\\"input-group-append\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger\\\" (click)=\\\"toggleDescription()\\\"><fa-icon [icon]=\\\"faTimes\\\"></fa-icon></button>\\n    </div>\\n  </div>\\n  <blockquote *ngIf=\\\"!editDescription\\\" (click)=\\\"toggleDescription()\\\" class=\\\"bg-light blockquote\\\"><cite>{{chapter.description ? chapter.description : 'No description for this chapter'}}</cite></blockquote>\\n</div>\\n\\n<div class=\\\"form-group text-center\\\">\\n  <app-audio-player width=\\\"100\\\" [title]=\\\"chapter.title\\\"  [showTitle]=\\\"false\\\" [upload]=\\\"chapter.upload\\\"></app-audio-player>\\n  <div class=\\\"float-right \\\" *ngIf=\\\"isLoggedIn()\\\">\\n    <label class=\\\"form-check-label text-uppercase text-success mr-2\\\" [htmlFor]=\\\"'currentChap'+ chapter.id\\\">set as Current track</label>\\n    <input  [id]=\\\"'currentChap'+chapter.id\\\" type=\\\"checkbox\\\" class=\\\"form-check-inline\\\"  [disabled]=\\\"isChecked()\\\" [checked]=\\\"isChecked()\\\" (change)=\\\"updateCurrentChapter($event)\\\">\\n  </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"mb-4\\\">\\n  <button class=\\\"btn btn-primary btn-block text-uppercase\\\" (click)=\\\"formVisible=!formVisible\\\"\\n          *ngIf=\\\"!formVisible\\\"><fa-icon [icon]=\\\"faPlus\\\"></fa-icon>&nbsp;New Track</button>\\n  <div class=\\\"card\\\" *ngIf=\\\"editMode && formVisible\\\">\\n    <div class=\\\"card-header bg-white\\\">\\n      <span class=\\\"lead text-uppercase\\\">New Track</span>\\n      <div class=\\\"float-right\\\">\\n        <a class=\\\"text-link text-muted\\\" href=\\\"#\\\" (click)=\\\"formVisible=false\\\"><fa-icon [icon]=\\\"faTimes\\\"></fa-icon></a>\\n      </div>\\n    </div>\\n    <div class=\\\"card-body text-uppercase\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"newChapTitle\\\">Title</label>\\n        <input [disabled]=\\\"loadingNewFile\\\" name=\\\"newChapTitle\\\" class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"newChapTitle\\\"\\n               [(ngModel)]=\\\"newChapter.title\\\">\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"newChapDescription\\\">Description</label>\\n        <textarea [disabled]=\\\"loadingNewFile\\\" autosize class=\\\"form-control \\\" id=\\\"newChapDescription\\\" [(ngModel)]=\\\"newChapter.description\\\"></textarea>\\n      </div>\\n\\n      <div class=\\\"custom-file\\\">\\n        <input [autofocus]=\\\"false\\\" #fileRef [disabled]=\\\"loadingNewFile\\\" name=\\\"custom-file-input\\\" id=\\\"inputGroupFile01\\\"\\n               aria-describedby=\\\"inputGroupFileAddon01\\\" type=\\\"file\\\" class=\\\" shadow-none custom-file-input\\\"\\n               (change)=\\\"setNewChapterFile($event.target.files)\\\">\\n        <label class=\\\"custom-file-label  shadow-none\\\"\\n               for=\\\"inputGroupFile01\\\">{{newChapter.fileName ? newChapter.fileName : 'Choose file'}}</label>\\n      </div>\\n    </div>\\n    <div class=\\\"card-footer bg-transparent\\\">\\n      <button type=\\\"submit\\\" id=\\\"newCHAPSubmit\\\" [disabled]=\\\"loadingNewFile\\\" (click)=\\\"publishNewChapter($event)\\\"\\n              class=\\\"btn btn-sm btn-outline-success mt-2 text-uppercase float-right\\\"><fa-icon [icon]=\\\"faSave\\\"></fa-icon>&nbsp;Save\\n      </button>\\n    </div>\\n  </div>\\n\\n</div>\\n\"","module.exports = \"  <div class=\\\"col-12 mb-1\\\">\\n    <app-chapter-form *ngIf=\\\"editMode\\\" [editMode]=\\\"editMode\\\" [bookId]=\\\"bookId\\\" (emitter)=\\\"refreshChapterList($event)\\\"></app-chapter-form>\\n  </div>\\n    <ul class=\\\"list-group\\\" *ngIf=\\\"chapters\\\">\\n      <li class=\\\"list-group-item d-flex justify-content-between align-items-center text-uppercase disabled border-right-0  border-left-0\\\" aria-disabled=\\\"true\\\">\\n        Track{{chapters.totalElements > 1 ? 's':''}}\\n        <h3><span class=\\\"badge badge-secondary badge-pill lead\\\">{{chapters.totalElements}}</span></h3>\\n      </li>\\n      <li *ngFor=\\\"let ch of chapters.content | paginate: { itemsPerPage: chapters.size, currentPage: chapters.number+1, totalItems: chapters.totalElements}\\\"  class=\\\"list-group-item border-0\\\">\\n        <app-chapter-detail [editMode]=\\\"editMode\\\" [id]=\\\"ch.id\\\" [chapter]=\\\"ch\\\"></app-chapter-detail>\\n        <div class=\\\"clearfix\\\"></div>\\n        <div class=\\\"col-12 mt-2\\\">\\n          <button class=\\\"btn btn-sm btn-outline-danger text-uppercase  float-right\\\" (click)=\\\"deleteChapter(ch)\\\" *ngIf=\\\"editMode\\\">\\n            <fa-icon [icon]=\\\"faTrash\\\"></fa-icon>&nbsp;Remove\\n          </button>\\n        </div>\\n      </li>\\n    </ul>\\n\\n\\n  <div *ngIf=\\\"chapters && !chapters.empty && chapters.totalPages  > 1\\\"\\n       class=\\\"text-center container mt-2 mr-1 mb-3 pb-1 \\\">\\n    <div class=\\\"text-wrap\\\">\\n      <pagination-controls (pageChange)=\\\"getChapters($event)\\\"\\n                           previousLabel=\\\"\\\"\\n                           autoHide=\\\"true\\\"\\n                           class=\\\"my-pagination \\\"\\n                           nextLabel=\\\"\\\">\\n      </pagination-controls>\\n    </div>\\n  </div>\\n\"","module.exports = \"    <div class=\\\"jumbotron container bg-transparent \\\">\\n      <div class=\\\"mb-0\\\">\\n        <div class=\\\"text-center container\\\">\\n          <h1 class=\\\"display-4 text-danger \\\">{{status}} </h1>\\n          <p class=\\\"lead text-danger\\\">{{label}}</p>\\n          <p class=\\\"lead\\\">{{message}}</p>\\n        </div>\\n      </div>\\n    </div>\\n\"","module.exports = \"<app-logo [headerClass]=\\\"'text-center  mt-5  pt-5 '\\\"></app-logo>\\n<div class=\\\"container  text-center\\\">\\n    <button class=\\\"btn btn-lg border-0 btn-outline-primary\\\" routerLink=\\\"/books\\\"><fa-icon class=\\\"fa-2x\\\" [icon]=\\\"['fas','search']\\\"></fa-icon></button>\\n    <hr class=\\\"my-4\\\">\\n    <p *ngIf=\\\"!isLoggedIn()\\\">You're not logged in.</p>\\n    <div *ngIf=\\\"isLoggedIn()\\\">\\n      <p>Welcome {{getUser().username}}!</p>\\n      <p>Your access roles are: <span class=\\\"badge badge-info mr-1\\\" *ngFor=\\\"let role of getUser().authorities\\\">{{role.authority}}</span></p>\\n    </div>\\n\\n    <!-- history -->\\n    <div *ngIf=\\\"isLoggedIn() && histories && histories.length\\\" class=\\\"container text-center\\\">\\n      <h2 class=\\\"text-muted bg-light mt-2 text-uppercase\\\">Your History</h2>\\n      <div class=\\\"mb-2 p-2 row \\\">\\n        <div *ngFor=\\\"let history of histories\\\" class=\\\"col-lg-4 \\\">\\n          <div class=\\\"card bg-light\\\" >\\n            <div class=\\\"card-body border-0 bg-transparent  \\\">\\n              <app-audio-player [linkDetail]=\\\"getChapterDetailLink(history.chapter)\\\" [updateCurrentTimeUrl]=\\\"getUpdateCurrentTimeUrl(history)\\\" [currentTime]=\\\"history.currentTime\\\" [title]=\\\"history.chapter.title\\\" [upload]=\\\"history.chapter.upload\\\"></app-audio-player>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!-- last -->\\n    <div *ngIf=\\\"books\\\" class=\\\"container text-center\\\">\\n      <h2 class=\\\"text-muted bg-light mt-2 text-uppercase\\\">Latest</h2>\\n      <div class=\\\"row mb-2 p-2\\\">\\n        <div *ngFor=\\\"let book of books\\\" class=\\\"col-lg-4\\\">\\n          <div class=\\\"card\\\" >\\n            <app-image-loader [routerLink]=\\\"getBookDetailLink(book)\\\" [customClass]=\\\"'clickable card-img-top '\\\" *ngIf=\\\"book.cover\\\" [imageId]=\\\"book.cover.id\\\"></app-image-loader>\\n            <div class=\\\"card-body border-0 bg-transparent\\\">\\n              <h6 class=\\\"card-title font-italic\\\">{{book.title}}</h6>\\n              <span class=\\\"card-text \\\">   {{ (book.description && book.description.length>100)? (book.description | slice:0:100)+'...':(book.description ? book.description : 'No description available') }}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- top 3 -->\\n\\n    <div *ngIf=\\\"topBooks\\\" class=\\\"container text-center\\\">\\n      <h2 class=\\\"text-muted bg-light mt-2 text-uppercase\\\">TOP</h2>\\n      <div class=\\\"row mb-2 p-2\\\">\\n        <div *ngFor=\\\"let book of topBooks\\\" class=\\\"col-lg-4 \\\">\\n          <div class=\\\"card\\\" >\\n            <app-image-loader [routerLink]=\\\"getBookDetailLink(book)\\\" [customClass]=\\\"'clickable card-img-top '\\\" *ngIf=\\\"book.cover\\\" [imageId]=\\\"book.cover.id\\\"></app-image-loader>\\n            <div class=\\\"card-body border-0 bg-transparent\\\">\\n              <h6 class=\\\"card-title font-italic\\\">{{book.title}}</h6>\\n              <span class=\\\"card-text \\\">   {{ (book.description && book.description.length>100)? (book.description | slice:0:100)+'...':(book.description ? book.description : 'No description available') }}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n\\n\\n\\n  </div>\\n\"","module.exports = \"    <img [ngClass]=\\\"customClass\\\" *ngIf=\\\"imageBase64\\\" [src]=\\\"imageBase64\\\" >\\n    <div *ngIf=\\\"!imageBase64\\\" class=\\\"lds-ellipsis\\\">\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n    </div>\\n\"","module.exports = \"<fieldset>\\n    <div *ngIf=\\\"!imgURL && !defaultImage\\\">\\n      <label for=\\\"cover\\\" class=\\\"btn btn-default w-100 h-100\\\">\\n        <svg width=\\\"100%\\\" height=\\\"100%\\\"\\n             style=\\\"background-color: rgb(243, 243, 243);border:dashed 2px rgb(146, 146, 146);\\\">\\n          <text x=\\\"40%\\\" y=\\\"50%\\\" fill=\\\"#999\\\" style=\\\"font-weight: bold;text-align: center;\\\">Cover</text>\\n        </svg>\\n      </label>\\n    </div>\\n    <label for=\\\"cover\\\"  class=\\\"col-lg-12\\\" *ngIf=\\\"!imgURL && defaultImage\\\" >\\n      <img [src]=\\\"getUrlForDefaultCover(defaultImage)\\\" width=\\\"100%\\\" height=\\\"100%\\\"/>\\n    </label>\\n    <label for=\\\"cover\\\" class=\\\"col-lg-12\\\">\\n      <img [src]=\\\"imgURL\\\" *ngIf=\\\"imgURL\\\" width=\\\"100%\\\" height=\\\"100%\\\"/>\\n    </label>\\n    <div class=\\\"col-lg-12\\\">\\n      <div *ngIf=\\\"loadingCover\\\" class=\\\"progress\\\">\\n        <div class=\\\"progress-bar-animated progress-bar-striped bg-danger\\\" role=\\\"progressbar\\\" style=\\\"width: 100%\\\"\\n             aria-valuenow=\\\"100\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n      </div>\\n    </div>\\n  <input #file id=\\\"cover\\\" type=\\\"file\\\" style=\\\"display:none\\\" (change)=\\\"preview(file.files)\\\">\\n</fieldset>\\n\"","module.exports = \"<div (keydown.enter)=\\\"login()\\\" *ngIf=\\\"!isLoggedIn()\\\" class=\\\"form-inline my-2 my-lg-0\\\">\\n  <input autocapitalize=\\\"none\\\" autofocus=\\\"autofocus\\\" [(ngModel)]=\\\"username\\\" name=\\\"username\\\" class=\\\"border-radius-0 form-control mr-sm-2\\\"\\n         type=\\\"text\\\"\\n         placeholder=\\\"Username\\\" aria-label=\\\"Username\\\">\\n  <input (keydown.enter)=\\\"login()\\\" [(ngModel)]=\\\"password\\\" name=\\\"password\\\" class=\\\"form-control mr-sm-2 border-radius-0 \\\"\\n         type=\\\"password\\\" placeholder=\\\"Password\\\"\\n         aria-label=\\\"Password\\\">\\n  <button class=\\\"btn  border-0 btn-outline-secondary text-white text-uppercase\\\" type=\\\"button\\\" (click)=\\\"login()\\\">\\n    <span class=\\\"text-uppercase\\\">Sign in&nbsp;</span>\\n    <fa-icon [icon]=\\\"faSignInAlt\\\" ></fa-icon>\\n  </button>\\n</div>\\n<div *ngIf=\\\"isLoggedIn()\\\" class=\\\"form-inline my-2 my-lg-0\\\">\\n  <div *ngIf=\\\"currentChapter\\\" >\\n    <app-audio-player [currentTime]=\\\"currentChapter.currentTime || 0.0\\\" [updateCurrentTimeUrl]=\\\"getUpdateCurrentTimeUrl()\\\" [currentPlayer]=\\\"true\\\" [linkDetail]=\\\"getChapterDetailLink()\\\" [upload]=\\\"currentChapter.chapter.upload\\\" [title]=\\\"currentChapter.chapter.title\\\"></app-audio-player>\\n  </div>\\n  <button class=\\\"btn border-0 btn-outline-danger text-white my-2 my-sm-0 \\\" type=\\\"button\\\" (click)=\\\"logout()\\\">\\n    <span>{{getUser().username | uppercase}}</span>&nbsp;\\n    <fa-icon [icon]=\\\"faSignOutAlt\\\"></fa-icon>\\n  </button>\\n</div>\\n\"","module.exports = \"<div [ngClass]=\\\"headerClass\\\">\\n    <span  [routerLink]=\\\"'/'\\\" class=\\\"clickable display-1 text-muted border-secondary  \\\">\\n      <span class=\\\"text-primary  font-weight-bold\\\" [innerHTML]=\\\"'\\\\u266D'\\\"></span>\\n      <span class=\\\"text-danger  font-weight-bold\\\" [innerHTML]=\\\"'\\\\u266E'\\\"></span>\\n      <span class=\\\"text-warning  font-weight-bold\\\" [innerHTML]=\\\"'\\\\u266E'\\\"></span>\\n      <span class=\\\"text-success  font-weight-bold\\\" [innerHTML]=\\\"'\\\\u266F'\\\"></span>\\n    </span>\\n</div>\\n\"","module.exports = \"<app-logo [headerClass]=\\\"'text-center  mt-5  pt-5 '\\\"></app-logo>\\n<div class=\\\"container mt-5\\\">\\n  <div [ngClass]=\\\"!bookFormVisible? 'text-center':'col-12'\\\">\\n    <app-book-form  (emitter)=\\\"bookFormVisible = $event\\\" [editMode]=\\\"false\\\" [book]=\\\"newBook()\\\"></app-book-form>\\n  </div>\\n</div>\\n<div class=\\\"container\\\" *ngIf=\\\"books &&!books.empty\\\">\\n\\n  <div *ngIf=\\\"!bookFormVisible\\\">\\n    <div  class=\\\"card mb-2\\\" *ngFor=\\\"let book of books.content | paginate: { itemsPerPage: books.size, currentPage: books.number+1, totalItems: books.totalElements}\\\">\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"text-muted text-dark clickable\\\" [routerLink]=\\\"linkToBook(book,'view')\\\">\\n          <p class=\\\"ml-1 \\\">\\n            <app-image-loader *ngIf=\\\"book.cover\\\" [imageId]=\\\"book.cover.id\\\" customClass=\\\"img-fluid col-2 mt-2 mb-2  \\\"></app-image-loader>\\n            {{book.title}}\\n          </p>\\n        </div>\\n      </div>\\n      <div class=\\\"card-footer\\\">\\n\\n        <span *ngIf=\\\"book.published\\\" class=\\\" font-italic text-muted \\\">Published:&nbsp;<fa-icon class=\\\"text-success\\\" [icon]=\\\"['far','check-circle']\\\"></fa-icon></span>\\n        <span *ngIf=\\\"!book.published\\\" class=\\\" font-italic text-muted \\\">Published:&nbsp;<fa-icon class=\\\"text-danger\\\" [icon]=\\\"['fas','exclamation-circle']\\\"></fa-icon></span>\\n\\n        <div class=\\\"btn-group float-right\\\">\\n          <button  class=\\\"btn btn-sm btn-primary\\\" [routerLink]=\\\"linkToBook(book,'view')\\\" aria-label=\\\"View\\\"><fa-icon [icon]=\\\"['fas','eye']\\\"></fa-icon></button>\\n          <button [id]=\\\"book.id + 'editaction'\\\"   [routerLink]=\\\"linkToBook(book,'edit')\\\" class=\\\"btn btn-sm btn-warning\\\"\\n                  aria-label=\\\"Edit\\\"><fa-icon [icon]=\\\"['fas','edit']\\\">></fa-icon></button>\\n\\n          <button [id]=\\\"book.id+'delaction'\\\" (click)=\\\"delete(book,$event)\\\" class=\\\"btn btn-sm btn-danger\\\" aria-label=\\\"Delete\\\"><fa-icon [icon]=\\\"['fas','trash']\\\"></fa-icon> </button>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!bookFormVisible && books && !books.empty && books.totalPages  > 1\\\"\\n       class=\\\"text-center container mt-3 mr-1 mb-3 pb-1 \\\">\\n    <div class=\\\"text-wrap\\\">\\n      <pagination-controls (pageChange)=\\\"getMyBooks($event)\\\"\\n                           previousLabel=\\\"\\\"\\n                           autoHide=\\\"true\\\"\\n                           class=\\\"my-pagination \\\"\\n                           nextLabel=\\\"\\\">\\n      </pagination-controls>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"!bookFormVisible && (!books || books.empty)\\\" class=\\\"mt-5 container alert alert-danger\\\">\\n  <fa-icon [icon]=\\\"['fas','exclamation']\\\" class=\\\"fa-4x\\\"></fa-icon>\\n  <p>You have no content yet</p>\\n</div>\\n\"","module.exports = \"<nav class=\\\"navbar navbar-expand-lg navbar-dark    bg-dark fixed-top\\\">\\n  <button class=\\\"navbar-toggler pb-2\\\" type=\\\"button\\\" (click)=\\\"toggleNavbar()\\\">\\n    <span class=\\\"navbar-toggler-icon\\\"></span>\\n  </button>\\n  <div [ngClass]=\\\"toggleNavbarShow()\\\" id=\\\"navbarTogglerDemo01\\\">\\n    <ul class=\\\"navbar-nav mr-auto pt-1\\\">\\n      <li [ngClass]=\\\"'nav-item ' +( m.selected ? 'active' :'')\\\" *ngFor=\\\"let m of menu\\\" (click)=\\\"$event.preventDefault();click(m);m.selected=true;\\\">\\n        <a routerLink=\\\"{{m.route}}\\\" *ngIf=\\\"hasRole(m.role)\\\" class=\\\"nav-link\\\">\\n          <fa-icon [icon]=\\\"m.icon\\\" class=\\\"\\\"></fa-icon>\\n        <span class=\\\"text-uppercase\\\">&nbsp;{{m.label}}</span>\\n        </a>\\n      </li>\\n      <li class=\\\"nav-item\\\" *ngFor=\\\"let link of externalLink\\\">\\n        <a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" [href]=\\\"link.route\\\" *ngIf=\\\"hasRole(link.role)\\\" class=\\\"nav-link\\\">\\n          <fa-icon [icon]=\\\"link.icon\\\"></fa-icon>\\n        </a>\\n      </li>\\n    </ul>\\n    <app-login></app-login>\\n\\n  </div>\\n</nav>\\n\"","module.exports = \"  <span class=\\\"text-warning\\\" *ngFor=\\\"let i of [1,2,3,4,5]\\\">\\n    <fa-icon  *ngIf=\\\"editable && editMode\\\" (mouseenter)=\\\"updateRating(i)\\\" [icon]=\\\"getIconFromCurr(i, inputStar.star)\\\"></fa-icon>\\n    <fa-icon  *ngIf=\\\"!editable || !editMode\\\" [icon]=\\\"getIcon(i)\\\"></fa-icon>\\n  </span>\\n  <a class=\\\"btn btn-link text-secondary clickable\\\" *ngIf=\\\"editable && !editMode\\\" (click)=\\\"editMode=!editMode\\\">Vote({{star.length}})</a>\\n  <a class=\\\"btn btn-link text-success clickable\\\" *ngIf=\\\"editable &&  editMode\\\" (click)=\\\"emitVote()\\\">Submit</a>\\n\"","import {NgModule} from '@angular/core';\nimport {Route, RouterModule} from '@angular/router';\nimport {ErrorComponent} from './error/error.component';\nimport {AuthGuardService} from './service/authguardservice';\nimport {HomeComponent} from './home/home.component';\nimport {BooksComponent} from \"./books/books.component\";\nimport {MyBooksComponent} from \"./my-books/my-books.component\";\nimport {BooksDetailComponent} from \"./books-detail/books-detail.component\";\n\nconst routes: Route[] = [\n  {path: '', component: HomeComponent},\n  {path: 'error', component: ErrorComponent},\n  {path: 'books', component: BooksComponent, canActivate: [AuthGuardService], data: {expectedRole: ['USER','ANONYMOUS', 'ADMIN','CONTRIBUTOR']}},\n  {path: 'books/:title/:id/:editMode', component: BooksDetailComponent, canActivate: [AuthGuardService], data: {expectedRole: ['USER','ANONYMOUS', 'ADMIN', 'CONTRIBUTOR']}},\n  {path: 'my-books', component: MyBooksComponent, canActivate: [AuthGuardService], data: {expectedRole: ['USER', 'ADMIN','CONTRIBUTOR']}},\n  {path: '**', component: ErrorComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {useHash: true})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","module.exports = \"html, body {\\n  height: 100%;\\n  margin: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osU0FBUztBQUNYIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJodG1sLCBib2R5IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDA7XG59XG4iXX0= */\"","import {Component, isDevMode} from '@angular/core';\nimport {NavigationStart, Router} from \"@angular/router\";\nimport {Subscription} from \"rxjs\";\nimport {AuthenticationService} from \"./service/authenticationservice\";\nimport {environment} from \"../environments/environment\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  private subscription: Subscription;\n\n  constructor(private router: Router, authService: AuthenticationService) {\n    if (isDevMode()) {\n      console.log(' Development! Backend Url= ' + environment.backendUrl);\n    } else {\n      console.log(' Production! Backend Url=' + environment.backendUrl);\n    }\n    this.subscription = router.events.subscribe((event) => {\n      if (event instanceof NavigationStart) {\n        if (!router.navigated && authService.getUser() ) {\n          // browser refresh, clean the local storage.\n          // it can also be done using a timeout that we store in the localstorage as well\n          // this is necessary for the authentication part\n          console.log('browser refresh, check authentication (disabled...');\n          authService.autoLogin(true);\n        }\n      }\n    });\n  }\n\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {NavbarComponent} from './navbar/navbar.component';\nimport {LoginComponent} from './login/login.component';\nimport {FormsModule} from '@angular/forms';\nimport {ErrorComponent} from './error/error.component';\nimport {HomeComponent} from './home/home.component';\nimport {AuthGuardService} from './service/authguardservice';\nimport {AuthInterceptor} from './login/authinterceptor';\nimport {ErrorInterceptor} from './login/errorinterceptor';\nimport {NgxPaginationModule} from \"ngx-pagination\";\nimport {NgxJsonViewerModule} from \"ngx-json-viewer\";\nimport {BooksComponent} from './books/books.component';\nimport {BooksDetailComponent} from './books-detail/books-detail.component';\nimport {BookFormComponent} from './book-form/book-form.component';\nimport {ImagePreviewComponent} from './image-preview/image-preview.component';\nimport {ImageLoaderComponent} from './image-loader/image-loader.component';\nimport {ChaptersComponent} from './chapters/chapters.component';\nimport {ChapterDetailComponent} from './chapter-detail/chapter-detail.component';\nimport {AutosizeModule} from \"ngx-autosize\";\nimport {ChapterFormComponent} from './chapter-form/chapter-form.component';\nimport {AutofocusModule} from \"angular-autofocus-fix\";\nimport {FaIconLibrary, FontAwesomeModule} from \"@fortawesome/angular-fontawesome\";\nimport {StarsComponent} from './stars/stars.component';\nimport {fas} from '@fortawesome/free-solid-svg-icons';\nimport {far} from '@fortawesome/free-regular-svg-icons';\nimport {AudioPlayerComponent} from './audio-player/audio-player.component';\nimport {LogoComponent} from './logo/logo.component';\nimport {MyBooksComponent} from './my-books/my-books.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    LoginComponent,\n    ErrorComponent,\n    HomeComponent,\n    BooksComponent,\n    BooksDetailComponent,\n    BookFormComponent,\n    ImagePreviewComponent,\n    ImageLoaderComponent,\n    ChaptersComponent,\n    ChapterDetailComponent,\n    ChapterFormComponent,\n    StarsComponent,\n    AudioPlayerComponent,\n    LogoComponent,\n    MyBooksComponent,\n  ],\n  imports: [\n    BrowserModule,\n    NgxJsonViewerModule,\n    AppRoutingModule,\n    AutosizeModule,\n    NgxPaginationModule,\n    FormsModule,\n    HttpClientModule,\n    AutofocusModule,\n    FontAwesomeModule\n  ],\n\n  providers: [\n    {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true},\n    {provide: AuthGuardService, useClass: AuthGuardService}\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  constructor(library: FaIconLibrary) {\n    // Add an icon to the library for convenient access in other components\n    library.addIconPacks(fas, far);\n\n  }\n}\n","module.exports = \"audio\\n{\\n  height: 32px;\\n  outline: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXVkaW8tcGxheWVyL2F1ZGlvLXBsYXllci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUVFLFlBQVk7RUFDWixhQUFhO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9hdWRpby1wbGF5ZXIvYXVkaW8tcGxheWVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhdWRpb1xue1xuICBoZWlnaHQ6IDMycHg7XG4gIG91dGxpbmU6IG5vbmU7XG59XG4iXX0= */\"","import {ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {environment} from \"../../environments/environment\";\nimport {UpdateCurrentTimeService} from \"../service/updatecurrenttimeservice\";\n\n@Component({\n  selector: 'app-audio-player',\n  templateUrl: './audio-player.component.html',\n  styleUrls: ['./audio-player.component.css']\n})\nexport class AudioPlayerComponent implements OnInit {\n\n  @ViewChild('audioSource', {static: false}) audioSource: ElementRef;\n\n  private static audioSources = []; // todo use redux like solution\n  private static currentPlayerMgmt: AudioPlayerComponent; // todo use redux like solution\n\n  constructor(private updateCurrentTimeService:UpdateCurrentTimeService, private router: Router, private cd: ChangeDetectorRef, private authenticationService: AuthenticationService) {\n\n  }\n\n  public updateCurrentTimeInterval;\n\n  @Input()\n  public updateCurrentTimeUrl: string = null;\n\n  @Input()\n  public currentTime: number = 0;\n\n  @Input()\n  public width: number;\n\n  @Input()\n  public currentPlayer: boolean;\n\n  @Input()\n  public linkDetail: string;\n\n  @Input()\n  public upload: any;\n  @Input()\n  title: string;\n  @Input()\n  showTitle: boolean = true;\n  showPlayer: boolean = true;\n\n\n  isLoggedIn() {\n    return this.authenticationService.getUser() !== null;\n  }\n\n\n  getSource() {\n    return AudioPlayerComponent.getSourceById(this.upload.id);\n  }\n\n  ngAfterViewInit() {\n    this.setCurrentTime(this.currentTime);\n    if (this.currentPlayer) {\n      AudioPlayerComponent.currentPlayerMgmt = this;\n    }\n\n  }\n\n  ngOnInit() {\n    AudioPlayerComponent.audioSources.push(this);\n  }\n\n\n  propagatePlayingEvent(event: Event) {\n    console.log('playing:', event);\n    AudioPlayerComponent.audioSources\n      .filter(a => a.audioSource.nativeElement.id !== this.audioSource.nativeElement.id)\n      .forEach(a => {\n        a.audioSource.nativeElement.pause();\n\n      });\n    this.updateCurrentTimeInterval = setInterval(()=>{\n      if (this.updateCurrentTimeUrl && this.audioSource && this.audioSource.nativeElement) {\n        let currentT = this.audioSource.nativeElement.currentTime;\n\n        if (!this.isLoggedIn()){\n          clearInterval(this.updateCurrentTimeInterval);\n        }\n        this.updateCurrentTimeService.updateTime(this.updateCurrentTimeUrl,currentT);\n      }else{\n        clearInterval(this.updateCurrentTimeInterval);\n      }\n    },10000);\n\n  }\n\n  static getSourceById(id) {\n    return environment.backendUrl + '/upload/' + id;\n  }\n\n\n  static reloadCurrentPlayer(newId,title) {\n    let currentPlayerMgmt = AudioPlayerComponent.currentPlayerMgmt;\n    if (currentPlayerMgmt) {\n      try {\n        if (newId) {\n          console.log(\"new\"+newId)\n          let audioSource = currentPlayerMgmt.audioSource;\n          currentPlayerMgmt.title = title;\n          audioSource.nativeElement.src = AudioPlayerComponent.getSourceById(newId);\n          audioSource.nativeElement.pause();\n        } else {\n          AudioPlayerComponent.currentPlayerMgmt.upload = null;\n        }\n      } catch (e) {\n        console.log(\"error handled \", e);\n        AudioPlayerComponent.currentPlayerMgmt.upload = null;\n      }\n    }\n  }\n\n  propagatePauseEvent($event: Event) {\n    console.log('paused');\n    if(this.updateCurrentTimeInterval) {\n      clearInterval(this.updateCurrentTimeInterval);\n      this.updateCurrentTimeInterval = null;\n    }\n\n  }\n\n  setCurrentTime(time: number) {\n    this.audioSource.nativeElement.currentTime = time;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jvb2stZm9ybS9ib29rLWZvcm0uY29tcG9uZW50LmNzcyJ9 */\"","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {BookDto} from \"../books/book\";\nimport {ImagePreview} from \"../image-preview/image.preview\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {faPlus, faSave, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {Slugify} from \"../common/slugify\";\nimport {BookService} from \"../service/book.service\";\n\n@Component({\n  selector: 'app-book-form',\n  templateUrl: './book-form.component.html',\n  styleUrls: ['./book-form.component.css']\n})\nexport class BookFormComponent implements OnInit {\n\n  faPlus=faPlus;\n  faTimes=faTimes;\n  faSave=faSave;\n  countryCode:any;\n  public loadingCover:boolean;\n\n  @Input()\n  public book: BookDto;\n\n  private bookCopy:BookDto;\n\n  @Input()\n  public editMode: boolean;\n\n\n  @Output() emitter: EventEmitter<boolean> = new EventEmitter();\n  @Output() bookCreatedCallback: EventEmitter<any> = new EventEmitter();\n\n  @Input()\n  public formVisible = false;\n\n  private coverChanged:boolean;\n\n  @Input()\n  showCross: boolean=true;\n\n  saving: boolean;\n  savingButton: string='Save';\n\n    constructor( private bookService: BookService,private router: Router, private authenticationService: AuthenticationService) {\n    }\n\n  ngOnInit() {\n    this.bookCopy = JSON.parse(JSON.stringify(this.book));\n    this.fetchCountryCode();\n  }\n\n  isLoggedIn() {\n    return this.getUser() !== null;\n  }\n\n  getUser() {\n    return this.authenticationService.getUser();\n  }\n\n  fetchCountryCode(){\n    this.bookService.fetchCountryCode((datas) => {\n      this.countryCode = datas;\n    });\n\n  }\n  public setCover($imagePreview: ImagePreview) {\n      this.coverChanged = true;\n    this.bookCopy.cover = btoa($imagePreview.imgURL.split(',')[1]);\n    this.bookCopy.fileName = $imagePreview.fileName;\n    this.bookCopy.contentType= $imagePreview.contentType;\n    console.log(this.book);\n  }\n\n  navigate(book, editMode) {\n    let slug = Slugify.slugify(book.title);\n      this.router.navigateByUrl('/books/' + slug + '/' + book.id + '/' + editMode);\n  }\n\n  public saveBookToDB($e) {\n      $e.stopPropagation();\n      this.savingButton='Saving...';\n      this.saving = true;\n\n      let bookToSave = {\n        id: this.bookCopy.id,\n        lang: this.bookCopy.lang,\n        published: this.bookCopy.published,\n        title: this.bookCopy.title,\n        description: this.bookCopy.description,\n        author: this.bookCopy.author,\n        cover: this.coverChanged ? this.bookCopy.cover : null,\n        fileName: this.coverChanged ? this.bookCopy.fileName : null,\n        contentType: this.coverChanged ? this.bookCopy.contentType : null,\n        category: this.bookCopy.category\n      };\n\n      this.bookService.saveBookToDb(bookToSave,(datas) => {\n        this.savingButton='Saved';\n        this.bookCreatedCallback.emit(datas.message);\n          this.navigate(datas,'view');\n      });\n  }\n\n  toggleFormVisible() {\n    this.formVisible = !this.formVisible;\n    this.emitter.emit(this.formVisible);\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jvb2tzLWRldGFpbC9ib29rcy1kZXRhaWwuY29tcG9uZW50LmNzcyJ9 */\"","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Book} from \"../books/book\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {Location} from '@angular/common';\nimport {faArrowLeft} from \"@fortawesome/free-solid-svg-icons\";\nimport {Star} from \"../stars/star\";\nimport {Slugify} from \"../common/slugify\";\nimport {BookService} from \"../service/book.service\";\n\n@Component({\n  selector: 'app-books-detail',\n  templateUrl: './books-detail.component.html',\n  styleUrls: ['./books-detail.component.css']\n})\nexport class BooksDetailComponent implements OnInit {\n  static ENDPOINT='/book';\n\n  public book: Book;\n  public editMode;\n  faArrowLeft=faArrowLeft;\n\n  constructor(private bookService: BookService,\n              private router: Router,\n              private authenticationService: AuthenticationService,\n              private location: Location,\n              private route: ActivatedRoute) {\n\n  }\n\n  back() {\n    this.location.back();\n  }\n\n  fetchBook(id,title){\n    this.bookService.fetchBook(id, title,(datas) => {\n      this.book = datas;\n      this.checkRights();\n    });\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.book = null;\n      const id = params.id;\n      const title = params.title;\n      const editMode = params.editMode;\n      this.fetchBook(id,title);\n      this.editMode = editMode === 'edit';\n\n    });\n  }\n\n  isLoggedIn() {\n    return this.getUser() !== null;\n  }\n\n  getUser() {\n    return this.authenticationService.getUser();\n  }\n\n  rateBook($event: Star) {\n    this.bookService.rateBook($event, this.book, (datas) => {\n      this.fetchBook(this.book.id, Slugify.slugify(this.book.title));\n    });\n  }\n\n  hasAnyRole(...expected){\n    return this.authenticationService.hasAnyRole(...expected);\n  }\n\n  hasRole(expected) {\n    return this.hasAnyRole(expected);\n  }\n\n  navigate(book, editMode) {\n    this.bookService.bookDetailFor(book,editMode);\n  }\n\n  private checkRights() {\n    if (this.editMode && !this.hasRight()){\n      this.bookService.bookDetailFor(this.book, 'view');\n      if(!this.hasRight()){\n        this.navigate(this.book,\"view\");\n      }\n    }\n  }\n\n  public hasRight() {\n    return this.authenticationService.hasRight(this.book);\n  }\n}\n\n","import {Auditable} from \"../common/auditable\";\nimport {Star} from \"../stars/star\";\n\nexport class Book extends Auditable{\n  public id:number;\n  public stars:Array<Star>;\n  public title:string;\n  public lang:string;\n  public username:string;\n  public published: boolean;\n  public author:string;\n  public description:string;\n  public totalDuration:number;\n  public cover:any;\n}\nexport class BookDto {\n  public id:number;\n  public title:string;\n  public author:string;\n  public username:string;\n  public description:string;\n  public published: boolean;\n  public totalDuration:number;\n  public lang:string;\n  public category:string;\n  public cover:any;\n  public fileName:string;\n  public contentType: string;\n}\n","module.exports = \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jvb2tzL2Jvb2tzLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {Book} from \"./book\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {faEdit, faEye, faSync, faTrash} from \"@fortawesome/free-solid-svg-icons\";\nimport {BookService} from \"../service/book.service\";\n\n@Component({\n  selector: 'app-books',\n  templateUrl: './books.component.html',\n  styleUrls: ['./books.component.css']\n})\nexport class BooksComponent implements OnInit {\n  public books: any;\n  static ENDPOINT = '/book';\n  faSync = faSync;\n  faEdit = faEdit;\n  faTrash = faTrash;\n  faEye = faEye;\n  loading: boolean;\n  searchText: string;\n  titles: any;\n\n  constructor( private router: Router, private authenticationService: AuthenticationService, private bookService: BookService) {\n\n  }\n\n  ngOnInit() {\n    this.bookService.fetchTitles((datas) => {\n      this.titles = datas;\n    });\n  }\n\n\n  hasRole(expected) {\n    return this.authenticationService.hasRole([expected]);\n  }\n\n  navigate(book, editMode) {\n    this.bookService.bookDetailFor(book,editMode);\n  }\n\n\n  getBooks(event: number) {\n\n    const next = (datas) => {\n      this.books = datas;\n      setTimeout(() => {\n        this.loading = false;\n      }, 1000);\n\n    };\n\n    if (this.searchText && this.searchText.length > 0) {\n      this.searchBookByTitle(this.searchText, event);\n    } else {\n      this.loading = true;\n      this.books = [];\n      this.bookService.getBooks(next,event);\n    }\n  }\n\n  isLoggedIn() {\n    return this.authenticationService.isLoggedIn();\n  }\n\n  getUser() {\n    return this.authenticationService.getUser();\n\n  }\n\n  getTotalDuration(book: Book) {\n    return this.bookService.getTotalDuration(book);\n  }\n\n  public hasRight(book) {\n    return this.authenticationService.hasRight(book);\n  }\n\n  searchBookByTitle(title, page = 1) {\n    this.loading = true;\n    this.books = [];\n\n    this.bookService.searchBookByTitle(title, (datas) => {\n      this.books = datas;\n      this.loading = false;\n    },page);\n\n  }\n}\n","module.exports = \".dotted {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.dotted .item,\\n.dotted .price {\\n  -webkit-box-flex: 1;\\n          flex: 1 0 auto;\\n}\\n.dotted .dots {\\n  -webkit-box-flex: 0;\\n          flex: 0 1 auto;\\n  /*Allows too long content to be hidden.*/\\n  overflow: hidden;\\n}\\n.dots::before {\\n  display: block;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: clip;\\n  content:\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n    \\\". . . . . . . . . . . . . . . . . . . . \\\"\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhcHRlci1kZXRhaWwvY2hhcHRlci1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtBQUNmO0FBQ0E7O0VBRUUsbUJBQWM7VUFBZCxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxtQkFBYztVQUFkLGNBQWM7RUFDZCx3Q0FBd0M7RUFDeEMsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkI7Ozs7Ozs7Ozs7QUFVRiIsImZpbGUiOiJzcmMvYXBwL2NoYXB0ZXItZGV0YWlsL2NoYXB0ZXItZGV0YWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZG90dGVkIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5kb3R0ZWQgLml0ZW0sXG4uZG90dGVkIC5wcmljZSB7XG4gIGZsZXg6IDEgMCBhdXRvO1xufVxuLmRvdHRlZCAuZG90cyB7XG4gIGZsZXg6IDAgMSBhdXRvO1xuICAvKkFsbG93cyB0b28gbG9uZyBjb250ZW50IHRvIGJlIGhpZGRlbi4qL1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmRvdHM6OmJlZm9yZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBjbGlwO1xuICBjb250ZW50OlxuICAgIFwiLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIFwiXG4gICAgXCIuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gXCJcbiAgICBcIi4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiBcIlxuICAgIFwiLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIFwiXG4gICAgXCIuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gXCJcbiAgICBcIi4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiBcIlxuICAgIFwiLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIFwiXG4gICAgXCIuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gXCJcbiAgICBcIi4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiBcIlxufVxuIl19 */\"","import {ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {Chapterentity} from \"../chapters/chapterentity\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {ChapterDto} from \"../chapters/chapterdto\";\nimport {faPlus, faSave, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {AudioPlayerComponent} from \"../audio-player/audio-player.component\";\nimport {ChapterService} from \"../service/chapter.service\";\n\n@Component({\n  selector: 'app-chapter-detail',\n  templateUrl: './chapter-detail.component.html',\n  styleUrls: ['./chapter-detail.component.css']\n})\nexport class ChapterDetailComponent implements OnInit {\n\n  constructor(private chapterService:ChapterService, private router: Router, private cd: ChangeDetectorRef,private authenticationService: AuthenticationService) {\n  }\n\n  faPlus=faPlus;\n  faTimes=faTimes;\n  faSave=faSave;\n  @ViewChild('title',{read:ElementRef,static:true})\n  title:ElementRef;\n\n  @Input()\n  public chapter:Chapterentity;\n\n\n  @Input()\n  public editMode:boolean=false;\n\n  public editTitle:boolean;\n  editDescription: boolean;\n\n  ngOnInit() {\n\n  }\n\n  updateChapter($event, updateType:string) {\n    $event.preventDefault();\n    let chap = new ChapterDto();\n    chap.id = this.chapter.id;\n    chap.title = this.chapter.title;\n    chap.description = this.chapter.description;\n\n    this.chapterService.updateChapter(chap,  (datas) => {\n      switch (updateType) {\n        case 'editTitle': this.toggleTitle();break;\n        case 'editDescription': this.toggleDescription();break;\n      }\n    });\n  }\n  public toggleTitle() {\n    this.editTitle= this.editMode && !this.editTitle;\n    this.cd.detectChanges();\n\n  }\n  public toggleDescription() {\n    this.editDescription= this.editMode && !this.editDescription;\n    this.cd.detectChanges();\n  }\n\n  getTimeDuration(chapter: Chapterentity) {\n      return Math.round(chapter.timeDuration/1000 / 60 ) + ' minutes';\n  }\n\n\n  isLoggedIn() {\n    return this.getUser() !== null;\n  }\n\n  getUser() {\n    return this.authenticationService.getUser();\n  }\n\n  getCurrentChapter(){\n    let currentChapter = (this.getUser()||{}).currentChapter;\n    return currentChapter;\n  }\n\n  updateCurrentChapter($event: Event) {\n    let next = (datas) => {\n      this.authenticationService.autoLogin(true);\n      let currentChapterUploadId = (datas.currentChapter || {upload:{}}).upload.id;\n      AudioPlayerComponent.reloadCurrentPlayer(currentChapterUploadId, (datas.currentChapter||{}).title);\n\n    };\n    console.log(this.chapterService);\n\n    this.chapterService.updateCurrentChapter(this.chapter, next);\n\n  }\n\n  isChecked() {\n    return this.getCurrentChapter() !=null && this.getCurrentChapter().id === this.chapter.id;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXB0ZXItZm9ybS9jaGFwdGVyLWZvcm0uY29tcG9uZW50LmNzcyJ9 */\"","import {ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {ChapterDto} from \"../chapters/chapterdto\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {faPlus, faSave, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {ChapterService} from \"../service/chapter.service\";\n\n@Component({\n  selector: 'app-chapter-form',\n  templateUrl: './chapter-form.component.html',\n  styleUrls: ['./chapter-form.component.css']\n})\nexport class ChapterFormComponent implements OnInit {\n\n  faPlus=faPlus;\n  faTimes=faTimes;\n  faSave=faSave;\n  @Output() emitter: EventEmitter<any> = new EventEmitter();\n\n  @Input()\n  public editMode:boolean;\n\n  @Input()\n  public bookId:number;\n  @ViewChild('fileRef', {static: false}) fileRef: ElementRef;\n\n  public newChapter:ChapterDto=new ChapterDto();\n  public loadingNewFile: boolean=false;\n  public newChapterFile:FileList;\n  public formVisible: boolean;\n\n\n  constructor(private chapterService:ChapterService, private cd:ChangeDetectorRef,private router: Router, private authenticationService: AuthenticationService) {}\n\n  ngOnInit() {\n  }\n  setNewChapterFile(event:FileList) {\n    if (event.length === 0)\n      return;\n    this.newChapterFile = event;\n    this.newChapter.fileName = this.newChapterFile[0].name;\n    this.newChapter.contentType = this.newChapterFile[0].type;\n\n  }\n  private setFile(file) {\n    this.newChapter.file = file.split(',')[1];\n  }\n\n\n  public publishNewChapter($e) {\n    this.cd.detectChanges();\n    this.newChapter.bookId = this.bookId;\n    this.loadingNewFile = true;\n\n    let reader = new FileReader();\n    reader.readAsDataURL(this.newChapterFile[0]);\n    reader.onload = (_event) => {\n      this.setFile(reader.result);\n      this.newChapter.file = btoa(this.newChapter.file);\n\n      this.chapterService.publish(this.newChapter, (datas) => {\n        this.newChapter=new ChapterDto();\n        this.formVisible=false;\n        this.loadingNewFile =false;\n        this.fileRef.nativeElement.value='';\n        this.emitter.emit(datas);\n      });\n    };\n\n\n  }\n}\n","\nexport class ChapterDto {\n  public id;\n  public bookId;\n  public title;\n  public order;\n  public description;\n  public file;\n  public fileName;\n  public contentType;\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXB0ZXJzL2NoYXB0ZXJzLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {Chapterentity} from \"./chapterentity\";\nimport {faPlus, faSave, faTimes, faTrash} from \"@fortawesome/free-solid-svg-icons\";\nimport {AudioPlayerComponent} from \"../audio-player/audio-player.component\";\nimport {ChapterService} from \"../service/chapter.service\";\n\n\n@Component({\n  selector: 'app-chapters',\n  templateUrl: './chapters.component.html',\n  styleUrls: ['./chapters.component.css']\n})\nexport class ChaptersComponent implements OnInit {\n\n  faPlus=faPlus;\n  faTimes=faTimes;\n  faTrash=faTrash;\n  faSave=faSave;\n  @Input()\n  public editMode:boolean;\n\n  @Input()\n  public bookId:number;\n\n\n  public chapters:any;\n\n  constructor(private chapterService: ChapterService, private router: Router, private authenticationService: AuthenticationService) {\n  }\n\n  ngOnInit() {\n    if(this.bookId){\n      this.getChapters();\n    }\n  }\n\n\n\n  getChapters(event=1) {\n    this.chapterService.getChapters(event, this.bookId,(datas) => {\n      this.chapters = datas;\n    });\n  }\n\n  deleteChapter(ch: Chapterentity) {\n    let next =  (datas) => {\n      this.authenticationService.autoLogin();\n      let currentChapterUploadId = (datas.currentChapter || {upload:{}}).upload.id;\n      AudioPlayerComponent.reloadCurrentPlayer(currentChapterUploadId, (datas.currentChapter||{}).title);\n      this.chapters = this.chapters.content.filter(c => c.id !== ch.id);\n      alert(datas.message);\n      this.getChapters();\n    };\n    this.chapterService.deleteChapter(ch, next);\n  }\n\n  refreshChapterList($event: any) {\n    setTimeout(()=>{\n      this.getChapters();\n    }, 1000);\n  }\n}\n","export class Auditable {\n  public createdBy:string;\n  public createdDate:Date;\n  public lastModifiedBy:string;\n  public lastModifiedDate:Date;\n}\n","export class Slugify {\n  static slugify(string) {\n    const a = '/_,:;'\n    const b = 'aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return string.toString().toLowerCase()\n      .replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n      .replace(/&/g, '-and-') // Replace & with 'and'\n      .replace(/[^\\w\\-]+/g, '') // Remove all non-word characters\n      .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, '') // Trim - from end of text\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vycm9yL2Vycm9yLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n  selector: 'app-error',\n  templateUrl: './error.component.html',\n  styleUrls: ['./error.component.css']\n})\nexport class ErrorComponent implements OnInit {\n  public label: string;\n  public status: string;\n  public message: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router) {\n  }\n\n  ngOnInit() {\n    console.log(this.route.queryParamMap);\n    this.route\n      .queryParams\n      .subscribe(params => {\n        console.log(params.length);\n        this.label = params['label'] || this.label || 'Not Found';\n        this.status = params['status'] || this.status || '404';\n        this.message = params['message'] || this.message || 'Not found';\n      });\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\nimport {AuthenticationService} from '../service/authenticationservice';\nimport {Router} from \"@angular/router\";\nimport {Slugify} from \"../common/slugify\";\nimport {ChapterService} from \"../service/chapter.service\";\nimport {BookService} from \"../service/book.service\";\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  public loading: boolean;\n  public books: any;\n  public histories: any;\n  topBooks: any;\n\n  constructor(private bookService: BookService, private chapterService:ChapterService,private router: Router, private authenticationService: AuthenticationService) {\n  }\n\n  isLoggedIn() {\n    return this.getUser() !== null;\n  }\n\n  getUser() {\n    return this.authenticationService.getUser();\n  }\n\n  getBookDetailLink(book) {\n    let link = '/books/' + Slugify.slugify(book.title) + '/' + book.id + '/' + 'view';\n    return link;\n  }\n\n  ngOnInit() {\n    this.loading = true;\n    this.books = null;\n    this.bookService.getLast3Books((datas) => {\n      this.books = datas;\n      this.loading = false;\n    });\n    this.bookService.getTop3Books((datas) => {\n      this.topBooks = datas;\n      this.loading = false;\n    });\n\n    this.fetchHistories();\n      this.authenticationService.userEvent.subscribe(event => {\n        console.log(event);\n        if (event === 'logout') {\n          this.histories = [];\n        } else {\n          this.fetchHistories();\n        }\n      });\n  }\n\n  getUpdateCurrentTimeUrl(currentChapter){\n      return`/user/chapter/${currentChapter.chapter.id}/current-time?time=`;\n  }\n\n  fetchHistories() {\n    if (this.isLoggedIn()) {\n      this.chapterService.userHistory((datas) => {\n        this.histories = datas;\n      });\n    }\n  }\n\n  getChapterDetailLink(chapter: any) {\n      let link = '/books/' + Slugify.slugify(chapter.title) + '/' + chapter.bookId + '/' + 'view';\n      return link;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ltYWdlLWxvYWRlci9pbWFnZS1sb2FkZXIuY29tcG9uZW50LmNzcyJ9 */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {Location} from \"@angular/common\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {environment} from \"../../environments/environment\";\n\n@Component({\n  selector: 'app-image-loader',\n  templateUrl: './image-loader.component.html',\n  styleUrls: ['./image-loader.component.css']\n})\nexport class ImageLoaderComponent implements OnInit {\n\n  @Input()\n  public customClass:string=\"img-fluid container\";\n  @Input()\n  public imageId: string;\n  @Input()\n  public width: string=\"100%\";\n  @Input()\n  public height: string=\"100%\";\n\n  public imageBase64: any;\n\n  constructor(private http: HttpClient,\n              private authenticationService: AuthenticationService,\n              private location: Location,\n              private route: ActivatedRoute) {\n\n  }\n\n  ngOnInit() {\n    let url = environment.backendUrl + '/upload/' + this.imageId;\n    this.http.get(url, {responseType: 'blob'}).subscribe(\n      (datas) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(datas);\n        reader.onloadend = () => {\n          this.imageBase64 = reader.result;\n        };\n      },\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ltYWdlLXByZXZpZXcvaW1hZ2UtcHJldmlldy5jb21wb25lbnQuY3NzIn0= */\"","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ImagePreview} from \"./image.preview\";\nimport {environment} from \"../../environments/environment\";\n\n@Component({\n  selector: 'app-image-preview',\n  templateUrl: './image-preview.component.html',\n  styleUrls: ['./image-preview.component.css']\n})\nexport class ImagePreviewComponent implements OnInit {\n  public loadingCover:boolean;\n  public imagePath;\n  public imgURL: any;\n  public filename:string;\n  public contentType:string;\n\n  @Input()\n  public defaultImage:any;\n\n  @Output()\n  public emitter: EventEmitter<ImagePreview>= new EventEmitter<ImagePreview>();\n\n  constructor() {\n  }\n\n  preview(files) {\n    if (files.length === 0)\n      return;\n    this.loadingCover=true;\n    this.filename = files[0].name;\n    this.contentType = files[0].type;\n\n    let reader = new FileReader();\n    this.imagePath = files;\n    reader.readAsDataURL(files[0]);\n    reader.onload = (_event) => {\n      this.imgURL = reader.result;\n      let imagePreview = new ImagePreview();\n      imagePreview.contentType = this.contentType;\n      imagePreview.fileName = this.filename;\n      imagePreview.imagePath = this.imagePath;\n      imagePreview.imgURL = this.imgURL;\n      this.emitter.emit(imagePreview);\n      this.loadingCover = false;\n    }\n  }\n  ngOnInit() {\n  }\n\n  getUrlForDefaultCover(defaultImage: any) {\n    return environment.backendUrl + '/upload/' + defaultImage;\n  }\n}\n","export class ImagePreview {\n  public  imgURL:string;\n  public  imagePath:any;\n  public fileName:string;\n  public contentType: string;\n}\n","import {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Observable} from 'rxjs';\n\n/**\n * @author Nordine Bittich\n */\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const xAuthToken = localStorage.getItem('xAuthToken');\n    if (xAuthToken && xAuthToken.length) {\n      request = request.clone({\n        setHeaders: {\n          'x-auth-token': `${xAuthToken}`\n        }\n      });\n    }\n    return next.handle(request);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\n\nimport {AuthenticationService} from '../service/authenticationservice';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n/**\n * @author Nordine Bittich\n */\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(private authenticationService: AuthenticationService, private router: Router, private actRoute: ActivatedRoute) {\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(catchError(err => {\n      let errorMessage = err.error ? err.error.message : err.statusText ? err.statusText : 'Server error';\n      let errorLabel = 'Unexpected Error';\n      if (err.status === 401 || err.status === 403) {\n        this.authenticationService.logout();\n        errorLabel = 'Unauthorized';\n        errorMessage = 'Forbidden';\n        this.router.navigate(['/error'],\n          {\n            queryParams: {label: errorLabel, status: err.status, message: errorMessage}\n          });\n      }\n      return throwError(err);\n    }));\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AuthenticationService} from '../service/authenticationservice';\nimport {faSignInAlt, faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {Slugify} from \"../common/slugify\";\nimport {ChapterService} from \"../service/chapter.service\";\n\n/**\n * @author Nordine Bittich\n */\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  private returnUrl: string;\n\n  public username: string;\n  public password: string;\n  faSignInAlt=faSignInAlt;\n  faSignOutAlt=faSignOutAlt;\n  private currentChapter: any;\n  constructor(private chapterService: ChapterService, private actRoute: ActivatedRoute, private router: Router, private authenticationService: AuthenticationService) {\n\n  }\n\n  ngOnInit() {\n    this.returnUrl = '';\n    this.actRoute.queryParams.subscribe(params => {\n      this.returnUrl = params['returnUrl'] || '';\n    });\n    this.fetchCurrentChap();\n    this.authenticationService.userEvent.subscribe(value => {\n      if(value === 'login') {\n        this.fetchCurrentChap();\n      }\n    })\n  }\n\n  public fetchCurrentChap(){\n\n    if(this.isLoggedIn()) {\n      this.chapterService.getCurrentChapter((datas)=>{\n        this.currentChapter = datas;\n      });\n    }\n  }\n\n  isLoggedIn() {\n    return this.getUser() !== null;\n  }\n\n\n  getUpdateCurrentTimeUrl(){\n    if (this.currentChapter && this.currentChapter.chapter)\n      return`/user/chapter/${this.currentChapter.chapter.id}/current-time?time=`;\n    else\n      return null;\n  }\n\n  getUser() {\n\n    return this.authenticationService.getUser();\n  }\n\n\n  logout() {\n    this.authenticationService.logout();\n    this.router.navigate(['/']);\n  }\n\n  hasRole(expected) {\n    return this.authenticationService.hasRole(expected);\n  }\n\n  login() {\n    this.authenticationService.login(this.username, this.password, (resp) => {\n      console.log(this.returnUrl);\n      this.router.navigateByUrl(this.returnUrl);\n    });\n  }\n\n  getChapterDetailLink() {\n    let link = '/books/' + Slugify.slugify(this.currentChapter.chapter.title) + '/' + this.currentChapter.chapter.bookId + '/' + 'view';\n    return link;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ28vbG9nby5jb21wb25lbnQuY3NzIn0= */\"","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-logo',\n  templateUrl: './logo.component.html',\n  styleUrls: ['./logo.component.css']\n})\nexport class LogoComponent implements OnInit {\n\n  @Input()\n  public headerClass:string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL215LWJvb2tzL215LWJvb2tzLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"../service/authenticationservice\";\nimport {environment} from \"../../environments/environment\";\nimport {Slugify} from \"../common/slugify\";\nimport {AudioPlayerComponent} from \"../audio-player/audio-player.component\";\nimport {BookDto} from \"../books/book\";\n\n@Component({\n  selector: 'app-my-books',\n  templateUrl: './my-books.component.html',\n  styleUrls: ['./my-books.component.css']\n})\nexport class MyBooksComponent implements OnInit {\n  books: any;\n  bookFormVisible: boolean;\n\n\n  constructor(private http: HttpClient, private router: Router, private authenticationService: AuthenticationService) {\n\n  }\n\n  ngOnInit() {\n    this.getMyBooks(1);\n\n  }\n\n\n\n  newBook() {\n    return new BookDto();\n  }\n\n  delete(book,e) {\n    e.stopPropagation();\n    this.http.request<any>('delete', environment.backendUrl + \"/book\", {body: book}).subscribe(\n      (datas) => {\n        this.getMyBooks(1);\n        this.authenticationService.autoLogin();\n        let currentChapterUploadId = (datas.currentChapter || {upload:{}}).upload.id;\n\n        AudioPlayerComponent.reloadCurrentPlayer(currentChapterUploadId, (datas.currentChapter||{}).title);\n      },\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n  getMyBooks(event:number){\n        this.books=[];\n        this.http.get<any[]>(environment.backendUrl + '/user/books' + '?size=2&page=' + (event - 1), {}).subscribe(\n          (datas) => {\n            this.books = datas;\n          },\n          (err) => {\n            console.log(err);\n          },\n          () => {\n          },\n        );\n  }\n\n  linkToBook(book: any, action) {\n    return '/books/'+Slugify.slugify(book.title)+'/'+book.id+'/'+action;\n  }\n}\n","module.exports = \".bg-grey{\\n  background-color: #778899;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmF2YmFyL25hdmJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQXlCO0FBQzNCIiwiZmlsZSI6InNyYy9hcHAvbmF2YmFyL25hdmJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJnLWdyZXl7XG4gIGJhY2tncm91bmQtY29sb3I6ICM3Nzg4OTk7XG59XG4iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport MenuLink from './menulink';\nimport {AuthenticationService} from '../service/authenticationservice';\nimport {ActivatedRoute, NavigationEnd, Router} from '@angular/router';\nimport {faBook, faFileAudio, faHome, faVolumeUp} from \"@fortawesome/free-solid-svg-icons\";\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n  public menu: MenuLink[];\n  public externalLink: MenuLink[];\n  public currentMenu: MenuLink;\n  public toggleNavbarClass = false;\n\n  constructor(private authenticationService: AuthenticationService, private router: Router, private actRoute: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    this.createMenu();\n    this.createExternalLink();\n    this.setupRoute();\n  }\n  faHome=faHome;\n  faFileAudio=faFileAudio;\n  faVolumeUp=faVolumeUp;\n\n  private createMenu() {\n    this.menu = [\n      {role: ['ANONYMOUS', 'USER', 'ADMIN','CONTRIBUTOR'], route: '/', label: 'Home', selected: false, icon:this.faHome},\n      {role: ['ADMIN', 'USER', 'ANONYMOUS','CONTRIBUTOR'], route: '/books', label: 'Discover', selected: false,icon:faVolumeUp},\n      {role: ['ADMIN', 'USER','CONTRIBUTOR'], route: '/my-books', label: 'My Content', selected: false,icon:faBook}\n    ];\n  }\n\n  private setupRoute() {\n    let defaultMenu = {role: ['ANONYMOUS', 'USER', 'ADMIN'], route: '/', label: 'Home', selected: true, icon:this.faHome};\n    this.router.events.subscribe(e => {\n      this.currentMenu = defaultMenu;\n      if (e instanceof NavigationEnd) {\n        this.menu.forEach(menu => menu.selected = false);\n        let url = e.url;\n        const currentMenuList = this.menu.filter(r => r.route === url);\n        if (currentMenuList && currentMenuList.length > 0) {\n          let m = currentMenuList[0];\n          m.selected = true;\n          this.currentMenu = m;\n        }\n      }\n    });\n  }\n\n  click(item: MenuLink) {\n    this.menu.forEach(x => x.selected = false);\n    this.currentMenu = item;\n    this.currentMenu.selected = true\n  }\n\n  toggleNavbar() {\n    this.toggleNavbarClass = !this.toggleNavbarClass;\n  }\n\n  toggleNavbarShow() {\n    if (this.toggleNavbarClass) {\n      return 'collapse navbar-collapse show ';\n    }\n    return 'collapse navbar-collapse';\n  }\n\n  hasRole(expected) {\n    return this.authenticationService.hasRole(expected);\n  }\n\n  private createExternalLink() {\n    this.externalLink = [\n      // {role: ['ADMIN'], route: '/proxy/aggregator/management', label: 'Management'},\n      //{role: ['ADMIN'], route: '/proxy/metrics/aggregator', label: 'Metrics'},\n      //{role: ['ADMIN'], route: '/proxy/robot/', label: 'Robot'}\n    ];\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {tap} from 'rxjs/operators';\nimport {environment} from \"../../environments/environment\";\nimport {Subject} from \"rxjs\";\n\n/**\n * @author Nordine Bittich\n */\n@Injectable({providedIn: 'root'})\nexport class AuthenticationService {\n  public userEvent = new Subject<any>();\n\n  constructor(private http: HttpClient) {\n  }\n\n  autoLogin(sendEvent=false) {\n    this.http.request<any>('post', environment.backendUrl + '/user/info' , {}).subscribe(\n      (datas) => {\n        this.setUser(datas,sendEvent);\n      },\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      });\n\n  }\n\n  setUser(datas, sendEvent=true){\n    localStorage.setItem('user', JSON.stringify(datas));\n    if (sendEvent)\n        this.userEvent.next(\"login\");\n  }\n\n  login(username: string, password: string, callBackNext?: any, callbackError?: any, callbackComplete?: any) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'X-Requested-With': 'XMLHttpRequest',\n      'Authorization': 'Basic ' + window.btoa(username + ':' + password)\n    });\n    return this.http.post<any>(environment.backendUrl + '/user/info', {}, {\n      headers: headers,\n      observe: 'response'\n    })\n      .pipe(tap(resp => {\n        const token = resp.headers.get('X-Auth-Token');\n        console.log(token);\n        if (token && token.length) {\n          localStorage.setItem('xAuthToken', token);\n          this.setUser(resp.body);\n        }\n\n        return resp;\n      })).subscribe(\n        (datas) => {\n          if (callBackNext) callBackNext(datas);\n        },\n        (err) => {\n          if (callbackError) callbackError(err);\n        },\n        () => {\n          if (callbackComplete) callbackComplete();\n        },\n      );\n  }\n\n  getUser() {\n    const user = localStorage.getItem('user');\n    return user && user.length ? JSON.parse(user) : null;\n  }\n\n  hasRole(expectedRole) {\n    const user = this.getUser() || {authorities: [{authority: 'ANONYMOUS'}]};\n    const authorities = user.authorities || [{authority: 'ANONYMOUS'}];\n    return expectedRole.some(r => authorities.map(a => a.authority.toLowerCase()).includes(r.toLowerCase()));\n  }\n\n  public hasRight(entityFromUser) {\n    return (entityFromUser || {username: 'ERROR'}).username === (this.getUser() || {username: 'ANONYMOUS'}).username;\n  }\n\n  public hasAnyRole(...expected:string[]){\n    return expected.filter(e => this.hasRole([e])).length > 0;\n  }\n\n  logout() {\n    localStorage.removeItem('xAuthToken');\n    localStorage.removeItem('user');\n    this.userEvent.next(\"logout\");\n  }\n\n  isLoggedIn(){\n      return this.getUser() !== null;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {AuthenticationService} from './authenticationservice';\n\n/**\n * @author Nordine Bittich\n */\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n  constructor(public auth: AuthenticationService, public router: Router) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const expectedRole = route.data.expectedRole || 'ANONYMOUS';\n    if (this.auth.hasRole(expectedRole)) {\n      return true;\n    }\n    this.router.navigate(['/error'],\n      {\n        queryParams: {label: 'Unauthorized', status: 401, message: 'Forbidden access', returnUrl: state.url}\n      });\n    return false;\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {AuthenticationService} from \"./authenticationservice\";\nimport {environment} from \"../../environments/environment\";\nimport {Slugify} from \"../common/slugify\";\nimport {Router} from \"@angular/router\";\nimport {Book} from \"../books/book\";\nimport {Star} from \"../stars/star\";\n\n@Injectable({providedIn: 'root'})\nexport class BookService {\n  constructor(private http: HttpClient, private router: Router, private authenticationService: AuthenticationService) {\n  }\n\n  getBooks(next = datas => console.log(datas), event: number = 1, pageSize = 10, err = e => console.log(e)) {\n    this.http.get<any[]>(`${environment.backendUrl}/book?size=${pageSize}&page=${event - 1}`, {}).subscribe(\n      next,\n      err,\n      () => {\n      }\n    );\n  }\n\n\n  searchBookByTitle(title, next = datas => console.log(datas), page = 1, pageSize = 10, err = e => console.log(e)) {\n    this.http.get<any[]>(`${environment.backendUrl}/book/search/title?size=${pageSize}&page=${page - 1}`, {\n      params: {\n        'title': title\n      }\n    }).subscribe(next, err,\n      () => {\n      },\n    );\n  }\n\n  fetchTitles(next: any, err = e => console.log(e)) {\n    this.http.get<any[]>(`${environment.backendUrl}/book/titles`, {}).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  getTotalDuration(book: Book) {\n    return Math.round(book.totalDuration / 1000 / 60) + ' minutes';\n  }\n\n\n  bookDetailFor(book, editMode) {\n    this.router.navigateByUrl('/books/' + Slugify.slugify(book.title) + '/' + book.id + '/' + editMode);\n  }\n\n\n  fetchCountryCode(next: any, e = err => console.log(err)) {\n    this.http.request<any>('get', `${environment.backendUrl}/book/country-code`, {}).subscribe(\n      next,\n      e,\n      () => {\n      },\n    );\n\n  }\n\n  saveBookToDb(book: any, next, error = e => console.log(e)) {\n    this.http.request<any>('put', `${environment.backendUrl}/book`, {body: book}).subscribe(\n      next, error,\n      () => {\n      },\n    );\n  }\n\n  fetchBook(id, title, next: any, err = e => console.log(e)) {\n    this.http.request<any>('get', `${environment.backendUrl}/book/${title}/${id}`, {}).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  rateBook($event: Star, book: Book, next, err = e => console.log(e)) {\n    console.log(\"from book detail \" + $event.star);\n    let params = new HttpParams()\n      .set('bookId', book.id + '')\n      .set('star', $event.star + '');\n    this.http.request<any>('post', `${environment.backendUrl}/user/rate`, {\n      params: params\n    }).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  getLast3Books(next: (datas) => void) {\n    this.http.get<any[]>(environment.backendUrl + '/book/last', {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n  getTop3Books(next: (datas) => void) {\n    this.http.get<any[]>(environment.backendUrl + '/book/top', {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      }\n    );\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {AuthenticationService} from \"./authenticationservice\";\nimport {environment} from \"../../environments/environment\";\nimport {Router} from \"@angular/router\";\n\n@Injectable({providedIn: 'root'})\nexport class ChapterService {\n  constructor(private http: HttpClient, private router: Router, private authenticationService: AuthenticationService) {\n  }\n\n  updateChapter(chap: any, next: (datas) => void, err = e => console.log(e)) {\n\n    this.http.request<any>('post', `${environment.backendUrl}/book/chapter/edit`, {body: chap}).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  updateCurrentChapter(chapter: any, next: (datas) => void, err = e => console.log(e)) {\n\n    this.http.request<any>('post', `${environment.backendUrl}/user/chapter/update/current`, {params: new HttpParams().set('chapterId', chapter.id)}).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  publish(newChapter: any, next: (datas) => void, err = e => console.log(e)) {\n\n    this.http.request<any>('put', `${environment.backendUrl}/book/chapter/publish`, {body: newChapter}).subscribe(\n      next, err,\n      () => {\n      },\n    );\n  }\n\n  deleteChapter(ch: any, next: (datas) => void) {\n\n    this.http.request<any>('delete', `${environment.backendUrl}/book/chapter/${ch.id}`, {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n  getChapters(event: number, bookId, next: any, pageSize = 3) {\n\n    this.http.get<any[]>(`${environment.backendUrl}/book/${bookId}/chapters?size=${pageSize}&page=${event - 1}`, {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n  getCurrentChapter(next: (datas) => void) {\n\n    this.http.get<any[]>(`${environment.backendUrl}/user/chapter/current`, {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n\n  userHistory(next: (datas) => void) {\n    this.http.get<any[]>(environment.backendUrl + '/user/chapter/history', {}).subscribe(\n      next,\n      (err) => {\n        console.log(err);\n      },\n      () => {\n      },\n    );\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Router} from \"@angular/router\";\nimport {AuthenticationService} from \"./authenticationservice\";\nimport {environment} from \"../../environments/environment\";\n\n@Injectable({providedIn: 'root'})\nexport class UpdateCurrentTimeService {\n\n  constructor(private http: HttpClient, private router: Router,  private authenticationService: AuthenticationService) {\n\n\n  }\n\n  updateTime(url, currentT:number){\n    this.http.post<any[]>(environment.backendUrl + url + currentT, {}).subscribe(\n      (datas) => {\n      },\n      (err) => {\n      },\n      () => {\n      },\n    );\n  }\n}\n","export class Star {\n  public id:number;\n  public star:number;\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0YXJzL3N0YXJzLmNvbXBvbmVudC5jc3MifQ== */\"","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {faStar, faStarHalfAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {far} from '@fortawesome/free-regular-svg-icons';\nimport {Star} from \"./star\";\n\n@Component({\n  selector: 'app-stars',\n  templateUrl: './stars.component.html',\n  styleUrls: ['./stars.component.css']\n})\nexport class StarsComponent implements OnInit {\n  faStar=faStar;\n  faStarHalfAlt= faStarHalfAlt;\n\n  @Input()\n  public star:Array<Star>=[];\n\n  @Output()\n  public updateStar:EventEmitter<Star> = new EventEmitter();\n\n  public inputStar:Star=new Star();\n\n  editMode: boolean;\n\n  @Input()\n  public editable:boolean;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getIcon(i: number) {\n    if (!this.star || !this.star.length) {\n      return ['far','star'];\n    }\n\n    let temp:number = this.star.map(s=> s.star).reduce((previousValue, currentValue) => {return previousValue + currentValue}) / this.star.length;\n    return this.getIconFromCurr(i,temp);\n  }\n\n  getIconFromCurr(i:number, curr:number){\n    if (!curr){\n      return ['far','star'];\n    }\n    let st = Math.round(curr*2)/2;\n    if(st < i){\n      if (st +0.5 === i){\n        return ['fas','star-half-alt'];\n      }else {\n        return ['far','star'];\n      }\n    }else {\n      return ['fas','star'];\n    }\n  }\n\n  updateRating(i: number) {\n    let s = new Star();\n    s.star = i;\n    this.inputStar = s;\n  }\n\n  emitVote() {\n    if(!this.inputStar.star) {\n      this.inputStar.star = 0;\n    }\n    this.updateStar.emit(this.inputStar);\n    this.inputStar = new Star();\n    this.editMode = !this.editMode;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  backendUrl: 'http://localhost:8070'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}